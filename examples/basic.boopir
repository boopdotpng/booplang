function factorial(r0: i32) -> i32
L1:
    cmp r0, 0
    beq r0, L2
    jmp L3

L2:
    mov r1: i32, 1
    ret r1

L3:
    sub r1: i32, r0, 1
    call factorial, r1 -> r2
    mul r3: i32, r0, r2
    ret r3
end function

function main(r0: i32, r1: ptr) -> void
L1:
    mov r2: i32, 5
    call factorial, r2 -> r3
    print r3

    mov r4: ptr, alloc_str "hello"
    print r4
end function